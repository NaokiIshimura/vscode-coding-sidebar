# VSCode File List Extension

## プロジェクト概要
VSCode拡張機能として、ディレクトリ内のファイルを一覧表示し、Git変更ファイルの管理機能を提供します。

## 技術スタック
- TypeScript
- VSCode Extension API
- Node.js 16.x

## 開発環境のセットアップ
```bash
# 依存関係のインストール
npm install

# コンパイル
npm run compile

# ウォッチモード
npm run watch

# パッケージ作成
npm run package
```

## プロジェクト構造
```
vscode-extension/
├── src/
│   └── extension.ts      # メインの拡張機能ロジック
├── out/                  # コンパイル済みJavaScript
├── releases/             # VSIXパッケージ保存場所
├── package.json          # 拡張機能のマニフェスト
└── tsconfig.json         # TypeScript設定
```

## 主な機能
- **ファイルエクスプローラー**: 指定したディレクトリ内のファイル・フォルダを階層表示
- **Git統合**: 変更されたファイルの一覧表示と差分確認
- **メモ機能**: 各フォルダにメモファイルを作成
- **カスタマイズ可能な相対パス**: デフォルトの表示パスを設定可能

## コーディング規約
- TypeScriptの型定義を厳密に行う
- VSCode Extension APIのベストプラクティスに従う
- 日本語のUIラベルを使用（package.jsonの設定に準拠）
- エラーハンドリングを適切に実装

## デバッグ方法

### 1. 事前準備
```bash
# TypeScriptをコンパイル
npm run compile
```

### 2. デバッグ実行
以下のいずれかの方法でデバッグを開始：

#### 方法A: VSCodeのデバッグパネルから
1. VSCodeでこのプロジェクトを開く
2. サイドバーの「実行とデバッグ」アイコンをクリック（または `Ctrl+Shift+D` / `Cmd+Shift+D`）
3. 上部のドロップダウンから「Run Extension」を選択
4. 緑の再生ボタンをクリック（または `F5`キー）

#### 方法B: キーボードショートカット
- `F5`キー: デバッグ開始
- `Shift+F5`: デバッグ停止
- `Ctrl+Shift+F5` / `Cmd+Shift+F5`: デバッグ再起動

### 3. デバッグ時の動作
- 新しいVSCodeウィンドウ（Extension Development Host）が開く
- このウィンドウで拡張機能がロードされた状態になる
- アクティビティバーに「File List」アイコンが表示される

### 4. デバッグ機能
- **ブレークポイント**: `src/extension.ts`にブレークポイントを設定可能
- **コンソール出力**: デバッグコンソールで`console.log`の出力を確認
- **変数の検査**: ブレークポイントで停止時に変数の値を確認
- **ステップ実行**: F10（ステップオーバー）、F11（ステップイン）

### 5. ホットリロード
```bash
# ウォッチモードでコンパイル（別ターミナルで実行）
npm run watch
```
- コード変更後、デバッグウィンドウで `Ctrl+R` / `Cmd+R` でリロード

### 6. トラブルシューティング
- **拡張機能が表示されない**: `npm run compile`を実行してコンパイル
- **ブレークポイントが効かない**: `outFiles`の設定を確認
- **エラーが出る**: デバッグコンソールとターミナルでエラー内容を確認

## テスト
現在、テストフレームワークは未実装です。追加予定。

## ビルドとリリース
```bash
# VSIXパッケージの作成
npm run package
# releasesディレクトリにVSIXファイルが生成される
```

## 注意事項
- `.claude`ディレクトリはコミット対象外
- Git操作は慎重に行い、明示的な指示がない限りコミットしない
- ファイル末尾は必ず空行を含める